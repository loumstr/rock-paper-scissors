<!DOCTYPE html>
<html>
<head>
  <title>Rock, Paper, Scissors</title>
</head>
<body>
  <script>

// Define the computer's selection
function computerPlay() {
  let n = Math.floor(Math.random()*3); // pick a random integer between 0 and 2
  switch (n) {
    case 0: return "Rock";
    case 1: return "Paper";
    case 2: return "Scissors";
  }
}

// Capitalize the player's selection 
function capitalize(string) {
   return (string.charAt(0)).toUpperCase() + (string.slice(1)).toLowerCase();
}

// Make sure the player choses one of the 3 options
function select (playerSelection) {
  if (playerSelection == "Rock" ||Â playerSelection == "Paper" || playerSelection == "Scissors") {
  return playerSelection; 
  } else {
  return playerSelection = "Invalid";
  }
}

// Function to play a single round
function playRound(playerSelection, computerSelection) {

  if (playerSelection == "Invalid") return "invalid"; // Checks it's one of the 3 options

  if (computerSelection == playerSelection) return "draw"; // Checks if it's a draw

  switch (playerSelection) { // Otherwise, checks for a win or lose
    case "Rock":
      if (computerSelection == "Scissors" ) {
        return "win";
      } else return "lose";
      break;

    case "Paper":
      if (computerSelection == "Rock") {
        return "win";
      } else return "lose";
      break;

    case "Scissors":
      if (computerSelection == "Paper") {
        return "win";
      } else return "lose";
      break;
  }
}

// Function to return the result of a game, after 5 rounds
function game() {

  // Set up the game's rules
  const numberOfRounds = 5;
  let playerScore = 0;
  let computerScore = 0;
  let currentRound = 1;
  
  // Play multiple rounds and update score
  while (currentRound <= numberOfRounds) { 

    // Define the player's selection (capitalized)
    playerSelection = capitalize(prompt("Let's play a game: Rock! Paper! Scissors! Enter your choice: "));
    playerSelection = select(playerSelection);

    // Define the computer's selection
    computerSelection = computerPlay();
  
    switch(playRound(playerSelection, computerSelection)) {
        case "win":
        playerScore++;
        currentRound++;
        console.log("You win! " + playerSelection + " beats " + computerSelection + ". Player: " + playerScore + " , Computer: " + computerScore + ".");
        break;

        case "lose":
        computerScore++;
        currentRound++;
        console.log("You lose! " + computerSelection + " beats " + playerSelection + ". Player: " + playerScore + " , Computer: " + computerScore + ".");
        break;

        case "draw":
        currentRound++;
        console.log("It's a tie! Player: " + playerScore + " , Computer: " + computerScore + ".");
        break;

        default: // do nothing
      }
  }
    if (playerScore > computerScore) {
      console.log("You won the game!")
      } else { 
        console.log("You lost the game :'(")
      }
}


game(); // Play the game
  
  </script>
</body>
</html>